/* Retro Futurism Styles for Task Item */

/* Smooth transitions */
.transition-all {
  transition: all 0.3s ease;
}

/* Pulse animation for loading states */
@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

.animate-pulse {
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Line through effect for completed tasks */
.line-through {
  text-decoration: line-through;
}

/* Modal backdrop blur effect */
.backdrop-blur-retro {
  backdrop-filter: blur(30px) saturate(150%);
  -webkit-backdrop-filter: blur(30px) saturate(150%);
}

/* Ensure modal is above other content */
.z-50 {
  z-index: 50;
}

/* Drag and Drop Styles */
::ng-deep .cdk-drag-preview {
  box-sizing: border-box;
  border-radius: 0;
  box-shadow: 
    0 8px 32px rgba(212, 98, 42, 0.5),
    inset 0 2px 0 rgba(255, 220, 150, 0.2),
    inset 0 -2px 0 rgba(0, 0, 0, 0.3);
  opacity: 0.95;
  background: #3a2f24;
  border: 2px solid #d4622a;
  transform: rotate(1deg);
  cursor: grabbing !important;
}

::ng-deep .cdk-drag-placeholder {
  opacity: 0.4;
  background: rgba(212, 98, 42, 0.15);
  border: 2px dashed rgba(212, 166, 98, 0.5);
  border-left: 4px dashed rgba(212, 166, 98, 0.5);
}

::ng-deep .cdk-drag-animating {
  transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);
}

::ng-deep .cdk-drop-list-dragging app-task-item:not(.cdk-drag-placeholder) {
  transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);
}

/* Component host styling */
:host {
  display: block;
}

/* Wrapper for drag */
.task-card-wrapper {
  cursor: grab !important;
  cursor: -webkit-grab !important;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  touch-action: none;
  display: block;
  min-width: 0;
}

.task-card-draggable {
  box-sizing: border-box;
  overflow: hidden;
  min-width: 0;
  position: relative;
  cursor: grab !important;
  cursor: -webkit-grab !important;
}

/* Keyboard focus: visible outline when tabbing to a task card */
.task-card-focusable:focus {
  outline: none;
}

.task-card-focusable:focus-visible {
  box-shadow:
    0 0 0 3px rgba(212, 98, 42, 0.5),
    0 4px 16px rgba(212, 98, 42, 0.3),
    inset 0 1px 0 rgba(255, 220, 150, 0.1);
  border-color: rgba(212, 98, 42, 0.9);
}

.task-card-wrapper:active {
  cursor: grabbing !important;
  cursor: -webkit-grabbing !important;
}

/* When Angular CDK adds cdk-drag class */
.task-card-wrapper.cdk-drag {
  cursor: grab !important;
  cursor: -webkit-grab !important;
}

.task-card-wrapper.cdk-drag:active,
.task-card-wrapper.cdk-drag.cdk-drag-dragging {
  cursor: grabbing !important;
  cursor: -webkit-grabbing !important;
}

/* Prevent text selection during drag */
.task-card-wrapper.cdk-drag-dragging,
.task-card-wrapper.cdk-drag-dragging * {
  -webkit-user-select: none !important;
  -moz-user-select: none !important;
  -ms-user-select: none !important;
  user-select: none !important;
  cursor: grabbing !important;
}

.task-card-draggable:hover:not(.cdk-drag-dragging) {
  border-color: rgba(212, 98, 42, 0.6) !important;
}

.task-card-draggable:active {
  cursor: grabbing !important;
  cursor: -webkit-grabbing !important;
}

/* Drag handle styling */
[cdkDragHandle] {
  cursor: grab !important;
  cursor: -webkit-grab !important;
}

[cdkDragHandle]:active {
  cursor: grabbing !important;
  cursor: -webkit-grabbing !important;
}

/* Allow normal interaction with buttons */
button,
input,
textarea {
  cursor: pointer !important;
  pointer-events: auto !important;
  position: relative;
  z-index: 10;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

/* Drag indicator styling */
.drag-indicator {
  pointer-events: none;
}
